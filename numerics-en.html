<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Numerics — Error Comparison (Hierarchical Calculus)</title>

<style>
:root{
  --bg1:#0b1220; --bg2:#0f1b2e;
  --card: rgba(255,255,255,.06);
  --card2: rgba(0,0,0,.22);
  --b: rgba(255,255,255,.12);
  --txt:#eaf2ff; --mut:#cfe3ff;
  --accent:#61d2d2; --accent2:#7aa7ff;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, Arial;
  background:
    radial-gradient(1200px 800px at 20% 10%, #1aa7a133, transparent 55%),
    radial-gradient(900px 700px at 75% 15%, #7aa7ff22, transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  color:var(--txt);
}
a{color:var(--accent2);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:auto;padding:34px 16px 60px}
.top{
  display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap;
  padding:14px 16px;border-bottom:1px solid var(--b);
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
  position:sticky;top:0;backdrop-filter: blur(10px); z-index:9;
}
.brand{display:flex;gap:10px;align-items:center}
.logo{
  width:34px;height:34px;border-radius:10px;
  background: radial-gradient(circle at 30% 30%, var(--accent), transparent 55%),
              radial-gradient(circle at 70% 70%, var(--accent2), transparent 55%),
              rgba(255,255,255,.06);
  border:1px solid var(--b);
}
nav{display:flex;gap:10px;flex-wrap:wrap}
nav a{
  padding:8px 10px;border:1px solid var(--b);border-radius:999px;
  background:rgba(255,255,255,.03);
}
h1{margin:22px 0 8px;font-size:30px}
.subtitle{color:var(--mut);margin:0 0 16px;line-height:1.8}
.card{
  background:var(--card);border:1px solid var(--b);border-radius:18px;
  padding:18px;margin:14px 0;
}
.small{font-size:14px;color:var(--mut);line-height:1.9}
.hr{height:1px;background:rgba(255,255,255,.10);margin:14px 0}
.math{
  background:var(--card2);border:1px solid var(--b);border-radius:14px;
  padding:12px;margin-top:10px;overflow:auto
}
.callout{
  border-left:4px solid var(--accent);
  padding:12px 14px;border-radius:14px;
  background:rgba(97,210,210,.10);border:1px solid rgba(97,210,210,.25);
}
table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  overflow:hidden;
  border:1px solid var(--b);
  border-radius:14px;
  background:rgba(0,0,0,.18);
}
th,td{
  padding:10px 10px;
  border-bottom:1px solid rgba(255,255,255,.10);
  font-size:14px;
  text-align:center;
  white-space:nowrap;
}
th{
  color:#bfe8ff;
  background:rgba(255,255,255,.04);
  font-weight:800;
}
tr:last-child td{border-bottom:none}
.badge{
  display:inline-block;
  padding:2px 10px;
  border:1px solid var(--b);
  border-radius:999px;
  background:rgba(255,255,255,.03);
  color:#bfe8ff;
  font-size:12px;
}
.ok{color:#7dffb0}
.footer{
  margin-top:22px;padding:14px 16px;border:1px solid var(--b);border-radius:16px;
  background:rgba(255,255,255,.04)
}
</style>

<script>
window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<div class="top">
  <div class="brand">
    <div class="logo" aria-hidden="true"></div>
    <div>
      <div style="font-weight:900">Hierarchical Calculus</div>
      <div style="font-size:12px;color:var(--mut)">Numerics — Error Comparison</div>
    </div>
  </div>

  <nav aria-label="Navigation">
    <a href="index-en.html">Home</a>
    <a href="theory-en.html">Theory</a>
    <a href="equations-en.html">Equations</a>
    <a href="#methods">Methods</a>
    <a href="#exp1">Experiment 1</a>
    <a href="#exp2">Experiment 2</a>
    <a href="#conclusion">Conclusion</a>
    <a href="numerics.html">العربية</a>
  </nav>
</div>

<div class="container">

  <h1>Numerical Section and Error Comparison</h1>
  <p class="subtitle">
    The key idea: instead of approximating \(f(x)\) directly (level 0),
    approximate it in a <strong>relative</strong> space (level 1) or a higher <strong>log-log</strong> space (level 2),
    then transform back — often improving numerical stability.
  </p>

  <div class="card" id="methods">
    <h2>1) Approximation Methods (around a base point \(x_0\))</h2>
    <p class="small">We use three local approximations based on holding a suitable derivative “locally constant”.</p>

    <div class="hr"></div>

    <p class="small"><span class="badge">Level 0 (D0)</span> First-order Taylor:</p>
    <div class="math">
      \[
      f(x)\approx f(x_0)+f'(x_0)(x-x_0)
      \]
    </div>

    <p class="small"><span class="badge">Level 1 (D1)</span> Assume \(D_1 f\) locally constant:</p>
    <div class="math">
      \[
      D_1 f=\frac{d\ln f}{d\ln x}
      \Rightarrow
      f(x)\approx f(x_0)\left(\frac{x}{x_0}\right)^{D_1 f(x_0)}
      \]
    </div>

    <p class="small"><span class="badge">Level 2 (D2)</span> Assume \(D_2 f\) locally constant:</p>
    <div class="math">
      \[
      D_2 f=\frac{d\ln(\ln f)}{d\ln(\ln x)}
      \]
      \[
      \ln(\ln f(x))\approx \ln(\ln f(x_0)) + D_2 f(x_0)\big(\ln(\ln x)-\ln(\ln x_0)\big)
      \]
    </div>

    <div class="callout" style="margin-top:14px">
      <div style="font-weight:900;margin-bottom:6px">Domain note</div>
      <div class="small">
        Level 2 requires \(x>1\) and \(\ln x>0\), and typically \(f(x)>1\) so \(\ln f>0\).
      </div>
    </div>
  </div>

  <div class="card" id="exp1">
    <h2>2) Experiment 1: A multi-scale model where Level 2 is nearly “perfect”</h2>
    <p class="small">
      Let:
      \[
      f(x)=\exp\big((\ln x)^2\big)\quad (x>1)
      \]
      with base point \(x_0=10\). Compare at \(x=\{8,9,10,11,12,15\}\).
    </p>

    <div class="hr"></div>

    <div class="callout">
      <div style="font-weight:900;margin-bottom:6px">Why this example?</div>
      <div class="small">
        Here \(\ln(\ln f)=\ln((\ln x)^2)=2\ln(\ln x)\), so \(D_2 f=2\) is constant.
        Hence the level-2 approximation becomes essentially exact (up to floating rounding).
      </div>
    </div>

    <div class="hr"></div>

    <table>
      <thead>
        <tr>
          <th>x</th>
          <th>True value</th>
          <th>Level 0 (Taylor1)</th>
          <th>Level 1</th>
          <th>Level 2</th>
          <th>Rel. err L0</th>
          <th>Rel. err L1</th>
          <th>Rel. err L2</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>8</td><td>75.496</td><td>15.850</td><td>71.829</td><td class="ok">75.496</td><td>0.790</td><td>0.0486</td><td class="ok">≈0</td></tr>
        <tr><td>9</td><td>124.935</td><td>108.284</td><td>123.556</td><td class="ok">124.935</td><td>0.133</td><td>0.0110</td><td class="ok">≈0</td></tr>
        <tr><td>10</td><td>200.717</td><td>200.717</td><td>200.717</td><td class="ok">200.717</td><td>0</td><td>0</td><td class="ok">0</td></tr>
        <tr><td>11</td><td>314.160</td><td>293.151</td><td>311.319</td><td class="ok">314.160</td><td>0.0669</td><td>0.00904</td><td class="ok">≈0</td></tr>
        <tr><td>12</td><td>480.468</td><td>385.585</td><td>464.759</td><td class="ok">480.468</td><td>0.197</td><td>0.0327</td><td class="ok">≈0</td></tr>
        <tr><td>15</td><td>1530.785</td><td>662.886</td><td>1298.719</td><td class="ok">1530.785</td><td>0.567</td><td>0.152</td><td class="ok">≈0</td></tr>
      </tbody>
    </table>
  </div>

  <div class="card" id="exp2">
    <h2>3) Experiment 2: A power law where Level 1 is “perfect”</h2>
    <p class="small">
      Let:
      \[
      g(x)=x^{3.5}\quad (x>0)
      \]
      with base point \(x_0=10\). Compare at \(x=\{8,9,10,11,12,15\}\).
    </p>

    <div class="hr"></div>

    <div class="callout">
      <div style="font-weight:900;margin-bottom:6px">Why this example?</div>
      <div class="small">
        For a power law, \(D_1 g=3.5\) is constant, so the level-1 approximation matches the true value (numerically).
      </div>
    </div>

    <div class="hr"></div>

    <table>
      <thead>
        <tr>
          <th>x</th>
          <th>True value</th>
          <th>Level 0 (Taylor1)</th>
          <th>Level 1</th>
          <th>Rel. err L0</th>
          <th>Rel. err L1</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>8</td><td>1448.155</td><td>948.683</td><td class="ok">1448.155</td><td>0.345</td><td class="ok">≈0</td></tr>
        <tr><td>9</td><td>2187.000</td><td>2055.480</td><td class="ok">2187.000</td><td>0.0601</td><td class="ok">≈0</td></tr>
        <tr><td>10</td><td>3162.278</td><td>3162.278</td><td class="ok">3162.278</td><td>0</td><td class="ok">0</td></tr>
        <tr><td>11</td><td>4414.428</td><td>4269.075</td><td class="ok">4414.428</td><td>0.0329</td><td class="ok">≈0</td></tr>
        <tr><td>12</td><td>5985.968</td><td>5375.872</td><td class="ok">5985.968</td><td>0.1019</td><td class="ok">≈0</td></tr>
        <tr><td>15</td><td>13071.319</td><td>8696.264</td><td class="ok">13071.319</td><td>0.335</td><td class="ok">≈0</td></tr>
      </tbody>
    </table>
  </div>

  <div class="card" id="conclusion">
    <h2>4) Conclusion</h2>
    <div class="callout">
      <div style="font-weight:900;margin-bottom:6px">Practical rule</div>
      <div class="small">
        Power-law behavior ⟶ Level 1 (D1) is typically the right coordinate system. <br>
        Multi-scale behavior like \(\exp((\ln x)^k)\) ⟶ Level 2 (D2) becomes highly stable and may become essentially exact.
      </div>
    </div>

    <div class="footer small">
      Next:
      <ul>
        <li><a href="equations-en.html">Hierarchical Equations</a></li>
        <li><a href="theory-en.html">Theory</a></li>
        <li>DOI: <a href="https://doi.org/10.5281/zenodo.17917302" target="_blank" rel="noopener">10.5281/zenodo.17917302</a></li>
      </ul>
    </div>
  </div>

</div>
</body>
</html>
